<Project>

	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
	</PropertyGroup>

	<PropertyGroup>
		<!-- Detect the SDK version. For now, we have to check the BundledNETCoreAppTargetFrameworkVersion prop
			 since there's no separate SDK version property -->
		<_SdkDotNetVersion>$(BundledNETCoreAppTargetFrameworkVersion)</_SdkDotNetVersion>
		<_SdkDotNetVersion Condition="'$(_SdkDotNetVersion)' == ''">1.0</_SdkDotNetVersion>
	</PropertyGroup>
  
  <ItemGroup>
    <!-- This item should never be included as a package dependency -->
    <PackageReference Update="MSBuild.Sdk.Extras" PrivateAssets="All" />
  </ItemGroup>

  <ItemGroup Condition="'$(EnableEmbeddedResourceGenerator)' == 'true' ">

    <EmbeddedResource Update="**/*.resx" Condition=" '$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'true' and '%(EmbeddedResource.Generator)' == '' " Generator="ResXFileCodeGenerator" />
    <EmbeddedResource Update="**/*.resx" Condition=" '$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'false' and '%(EmbeddedResource.Generator)' == ''" Generator="PublicResXFileCodeGenerator" />
    <EmbeddedResource Update="**/*.resx" LastGenOutput="%(Filename).Designer$(_SdkLanguageExtension)"  />

  </ItemGroup>
  
  <ItemGroup Condition="'$(EnableDefaultItems)' == 'True'">

    <_ResxFiles Include="**/*.resx"  DesignerName="%(RecursiveDir)%(Filename).Designer$(_SdkLanguageExtension)" />
    <Compile Update="@(_ResxFiles -> '%(DesignerName)')" Condition=" '$(EnableDefaultEmbeddedResourceItems)' == 'true'" AutoGen="True" DesignTime="True" DependentUpon="$([System.String]::Copy(&quot;%(Filename)&quot;).Replace(&quot;.Designer&quot;,&quot;&quot;)).resx" />

  </ItemGroup>

</Project>