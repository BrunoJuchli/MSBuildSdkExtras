<Project>

	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
		<MSBuildSDKExtrasTargets>$(MSBuildThisFileDirectory)MSBuild.Sdk.Extras.Core.targets</MSBuildSDKExtrasTargets>
	</PropertyGroup>


  <Choose>
    <When Condition="'$(MSBuildProjectExtension)' == '.csproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).csproj'))">
      <PropertyGroup>
        <_SdkLanguageName>CSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.cs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.vbproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).vbproj'))">
      <PropertyGroup>
        <_SdkLanguageName>VisualBasic</_SdkLanguageName>
        <_SdkLanguageExtension>.vb</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.fsproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).fsproj'))">
      <PropertyGroup>
        <_SdkLanguageName>FSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.fs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <Otherwise />
  </Choose>

  <PropertyGroup>
    <EnableDefaultItems Condition="'$(EnableDefaultItems)' == ''">true</EnableDefaultItems>
    <EnableDefaultEmbeddedResourceItems Condition="'$(EnableDefaultEmbeddedResourceItems)' == ''">true</EnableDefaultEmbeddedResourceItems>
    <EnableEmbeddedResourceGenerator Condition="'$(EnableEmbeddedResourceGenerator)' == ''">true</EnableEmbeddedResourceGenerator>
    <EmbeddedResourceGeneratorVisibilityIsInternal Condition="'$(EmbeddedResourceGeneratorVisibilityIsInternal)' == ''">true</EmbeddedResourceGeneratorVisibilityIsInternal>
  </PropertyGroup>

  <!-- Resx is in the props so that the project can override the Generator to PublicResXFileCodeGenerator if desired -->
  <ItemGroup Condition="'$(EnableDefaultItems)' == 'True' and  '$(EnableDefaultEmbeddedResourceItems)' == 'true' ">

    <EmbeddedResource Update="**/*.resx">
      <Generator Condition=" '$(EnableEmbeddedResourceGenerator)' == 'true' and '$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'true'">ResXFileCodeGenerator</Generator>
      <Generator Condition=" '$(EnableEmbeddedResourceGenerator)' == 'true' and '$(EmbeddedResourceGeneratorVisibilityIsInternal)' == 'false'">PublicResXFileCodeGenerator</Generator>
      <LastGenOutput Condition="'$(EnableEmbeddedResourceGenerator)' == 'true'">%(Filename).Designer$(_SdkLanguageExtension)</LastGenOutput>
    </EmbeddedResource>
    
  </ItemGroup>

</Project>