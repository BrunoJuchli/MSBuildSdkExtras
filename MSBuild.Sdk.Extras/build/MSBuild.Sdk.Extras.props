<Project>

	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
		<MSBuildSDKExtrasTargets>$(MSBuildThisFileDirectory)MSBuild.Sdk.Extras.Core.targets</MSBuildSDKExtrasTargets>
	</PropertyGroup>


  <Choose>
    <When Condition="'$(MSBuildProjectExtension)' == '.csproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).csproj'))">
      <PropertyGroup>
        <_SdkLanguageName>CSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.cs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.vbproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).vbproj'))">
      <PropertyGroup>
        <_SdkLanguageName>VisualBasic</_SdkLanguageName>
        <_SdkLanguageExtension>.vb</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <When Condition="'$(MSBuildProjectExtension)' == '.fsproj' or ('$(MSBuildProjectExtension)' == '.tmp_proj' and Exists('$(MSBuildProjectDirectory)\$(AssemblyName).fsproj'))">
      <PropertyGroup>
        <_SdkLanguageName>FSharp</_SdkLanguageName>
        <_SdkLanguageExtension>.fs</_SdkLanguageExtension>
      </PropertyGroup>
    </When>

    <Otherwise />
  </Choose>

  <PropertyGroup>
    <EnableDefaultItems Condition="'$(EnableDefaultItems)' == ''">true</EnableDefaultItems>
    <EnableDefaultEmbeddedResourceItems Condition="'$(EnableDefaultEmbeddedResourceItems)' == ''">true</EnableDefaultEmbeddedResourceItems>
  </PropertyGroup>

  <!-- Resx is in the props so that the project can override the Generator to PublicResXFileCodeGenerator if desired -->
  <ItemGroup Condition="'$(EnableDefaultItems)' == 'True'">

    <EmbeddedResource Update="**/*.resx" Condition=" '$(EnableDefaultEmbeddedResourceItems)' == 'true'" Generator="ResXFileCodeGenerator" LastGenOutput="%(Filename).Designer$(_SdkLanguageExtension)" />
    <_ResxFiles Include="**/*.resx"  DesignerName="%(RecursiveDir)%(Filename).Designer$(_SdkLanguageExtension)" />
    <Compile Update="@(_ResxFiles -> '%(DesignerName)')" Condition=" '$(EnableDefaultEmbeddedResourceItems)' == 'true'" AutoGen="True" DesignTime="True" DependentUpon="$([System.String]::Copy(&quot;%(Filename)&quot;).Replace(&quot;.Designer&quot;,&quot;&quot;)).resx" />

  </ItemGroup>

</Project>